{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/OfficeProject/lissnify23-9-25/elysian/Front-end/lissnify/src/config/api.ts"],"sourcesContent":["// API Configuration\r\n\r\nexport const API_CONFIG = {\r\n  // Update this URL to match your backend server\r\n  BASE_URL: \"http://localhost:8000\", // Real backend URL\r\n  \r\n  // API Endpoints\r\n  ENDPOINTS: {\r\n    // Auth endpoints\r\n    REGISTER: \"/api/register/\",\r\n    LOGIN: \"/api/login/\",\r\n    LOGOUT: \"/api/logout/\",\r\n    VERIFY_OTP: \"/api/verify-otp/\",\r\n    FORGOT_PASSWORD: \"/api/forgot-password/\",\r\n    \r\n    // User endpoints\r\n    USER_PROFILE: \"/api/user-profile/\",\r\n    LISTENER_PROFILE: \"/api/listener-profile/\",\r\n    \r\n    // Category endpoints\r\n    CATEGORIES: \"/api/categories/\",\r\n    \r\n    // Community endpoints\r\n    COMMUNITY_POSTS: \"/api/community-posts/\",\r\n    COMMUNITY_POST_DETAIL: \"/api/community-posts/\",\r\n    COMMUNITY_POST_LIKE: \"/api/community-posts/\",\r\n    COMMUNITY_POST_COMMENTS: \"/api/community-posts/\",\r\n    \r\n    // Connection endpoints\r\n    CONNECTIONS: \"/api/connections/\",\r\n    CONNECTION_REQUEST: \"/api/connection-request/\",\r\n    ACCEPT_CONNECTION: \"/api/accept-connection/\",\r\n    LISTENERS_BOP: \"/api/listeners-bop/\",\r\n    ACCEPTED_LIST_SEEKER: \"/api/accepted-list-seeker/\",\r\n    GET_CONNECTION_LIST: \"/api/get-connection-list/\",\r\n    \r\n    // Blog endpoints\r\n    BLOGS: \"/api/blogs/\",\r\n    BLOG_DETAIL: \"/api/blogs/\",\r\n    BLOG_LIKE: \"/api/blogs/\",\r\n    BLOG_TOGGLE_LIKE: \"/api/blogs/\",\r\n    BLOG_LIKES: \"/api/blogs/\",\r\n    \r\n    // Notification endpoints\r\n    NOTIFICATIONS: \"/api/notifications/\",\r\n    NOTIFICATION_DETAIL: \"/api/notifications/\",\r\n    NOTIFICATION_MARK_ALL_READ: \"/api/notifications/mark-all-read/\",\r\n    NOTIFICATION_STATS: \"/api/notifications/stats/\",\r\n    NOTIFICATION_SETTINGS: \"/api/notifications/settings/\",\r\n    CREATE_MESSAGE_NOTIFICATION: \"/api/notifications/create-message/\",\r\n    TEST_NOTIFICATION: \"/api/notifications/test/\",\r\n    \r\n    // Testimonial endpoints\r\n    TESTIMONIALS: \"/api/testimonials/\",\r\n    TESTIMONIAL_DETAIL: \"/api/testimonials/\",\r\n  }\r\n};\r\n\r\n// Helper function to get full API URL\r\nexport const getApiUrl = (endpoint: string): string => {\r\n  return `${API_CONFIG.BASE_URL}${endpoint}`;\r\n};\r\n\r\n"],"names":[],"mappings":"AAAA,oBAAoB;;;;;AAEb,MAAM,aAAa;IACxB,+CAA+C;IAC/C,UAAU;IAEV,gBAAgB;IAChB,WAAW;QACT,iBAAiB;QACjB,UAAU;QACV,OAAO;QACP,QAAQ;QACR,YAAY;QACZ,iBAAiB;QAEjB,iBAAiB;QACjB,cAAc;QACd,kBAAkB;QAElB,qBAAqB;QACrB,YAAY;QAEZ,sBAAsB;QACtB,iBAAiB;QACjB,uBAAuB;QACvB,qBAAqB;QACrB,yBAAyB;QAEzB,uBAAuB;QACvB,aAAa;QACb,oBAAoB;QACpB,mBAAmB;QACnB,eAAe;QACf,sBAAsB;QACtB,qBAAqB;QAErB,iBAAiB;QACjB,OAAO;QACP,aAAa;QACb,WAAW;QACX,kBAAkB;QAClB,YAAY;QAEZ,yBAAyB;QACzB,eAAe;QACf,qBAAqB;QACrB,4BAA4B;QAC5B,oBAAoB;QACpB,uBAAuB;QACvB,6BAA6B;QAC7B,mBAAmB;QAEnB,wBAAwB;QACxB,cAAc;QACd,oBAAoB;IACtB;AACF;AAGO,MAAM,YAAY,CAAC;IACxB,OAAO,AAAC,GAAwB,OAAtB,WAAW,QAAQ,EAAY,OAAT;AAClC","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///D:/OfficeProject/lissnify23-9-25/elysian/Front-end/lissnify/src/utils/api.ts"],"sourcesContent":["import { getApiUrl } from '@/config/api';\r\n\r\n\r\n// API Response types\r\nexport interface ApiResponse<T = any> {\r\n  success: boolean;\r\n  data?: T;\r\n  message?: string;\r\n  error?: string;\r\n}\r\n\r\nexport interface RegisterData {\r\n  full_name: string;\r\n  email: string;\r\n  password: string;\r\n  otp: string;\r\n  status: string;\r\n  user_type: string;\r\n  preferences: number[];\r\n  DOB: string;\r\n}\r\n\r\nexport interface LoginData {\r\n  username_or_email:string,\r\n  password: string;\r\n}\r\nexport interface CategoryId{\r\n  category_id:string\r\n}\r\n\r\nexport interface ApiCategory {\r\n  id: number;\r\n  Category_name: string; // Backend uses Category_name field\r\n  name?: string; // Fallback for compatibility\r\n  description: string;\r\n  icon: string;\r\n  supportText: string;\r\n  slug: string;\r\n}\r\n\r\nexport interface Testimonial {\r\n  id: number;\r\n  name: string;\r\n  role: string;\r\n  image: string | null;\r\n  rating: number;\r\n  feedback: string;\r\n  created_at: string;\r\n}\r\nexport interface startDirectChatData {\r\n  listener_id: string;\r\n}\r\n\r\n// Generic API call function\r\nexport const apiCall = async <T>(\r\n  endpoint: string,\r\n  options: RequestInit = {}\r\n): Promise<ApiResponse<T>> => {\r\n  try {\r\n    const url = getApiUrl(endpoint);\r\n    \r\n    const response = await fetch(url, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...options.headers,\r\n      },\r\n      ...options,\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (!response.ok) {\r\n      return {\r\n        success: false,\r\n        error: data.message || data.error || `HTTP ${response.status}`,\r\n        data: data\r\n      };\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      data: data,\r\n      message: data.message\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      error: error instanceof Error ? error.message : 'Network error occurred'\r\n    };\r\n  }\r\n};\r\n\r\n// Specific API functions\r\nexport const registerUser = async (userData: RegisterData): Promise<ApiResponse> => {\r\n  return apiCall('/api/register/', {\r\n    method: 'POST',\r\n    body: JSON.stringify(userData),\r\n  });\r\n};\r\n\r\nexport const loginUser = async (credentials: LoginData): Promise<ApiResponse> => {\r\n  return apiCall('/api/login/', {\r\n    method: 'POST',\r\n    body: JSON.stringify(credentials),\r\n  });\r\n};\r\n\r\nexport const sendOTP = async (email: string): Promise<ApiResponse> => {\r\n  console.log(\"Sending OTP request to:\", getApiUrl('/api/send-otp/'));\r\n  return apiCall('/api/send-otp/', {\r\n    method: 'POST',\r\n    body: JSON.stringify({ email }),\r\n  });\r\n};\r\n\r\nexport const verifyOTP = async (email: string, otp: string): Promise<ApiResponse> => {\r\n  return apiCall('/api/verify-otp/', {\r\n    method: 'POST',\r\n    body: JSON.stringify({ email, otp }),\r\n  });\r\n};\r\n\r\n// Utility function for role-based redirection\r\nexport const getDashboardUrl = (userType: string): string => {\r\n  // Validate and normalize user type\r\n  const normalizedType = userType?.toLowerCase()?.trim();\r\n  \r\n  switch (normalizedType) {\r\n    case 'seeker':\r\n      return '/dashboard/seeker';\r\n    case 'listener':\r\n      return '/dashboard/listener';\r\n    default:\r\n      console.warn('Unknown or invalid user type:', userType, 'redirecting to seeker dashboard as fallback');\r\n      return '/dashboard/seeker';\r\n  }\r\n};\r\n\r\n// Validation function for user types\r\nexport const isValidUserType = (userType: string): boolean => {\r\n  const validTypes = ['seeker', 'listener'];\r\n  return validTypes.includes(userType?.toLowerCase()?.trim());\r\n};\r\n\r\nexport const listenerCarouselData = async () => {\r\n  try {\r\n    const response = await fetch(getApiUrl('/api/listenerList'));\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error(\"Error fetching listener carousel data:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const listenerCategoryWise = async (categorySlug:string): Promise<ApiResponse> => {\r\n  return apiCall('/api/listenerList/', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ category_id: categorySlug }),\r\n  });\r\n};\r\n\r\nexport const listenerList = async (listenerId: string): Promise<ApiResponse> => {\r\n  return apiCall('/api/listenerList/', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ listener_id: listenerId }),\r\n  });\r\n};\r\n\r\nexport const connectionList = async (): Promise<ApiResponse> => {\r\n  return apiCall('/api/get-connection-list/', {\r\n    method: 'GET',\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('adminToken') || ''}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n};\r\nexport const connectedListeners = async (): Promise<ApiResponse> => {\r\n  return apiCall('/api/connections/', {\r\n    method: 'GET',\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('adminToken') || ''}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n};\r\n\r\nexport const getRooms = async (): Promise<ApiResponse> => {\r\n  return apiCall('/chat/rooms/', {\r\n    method: 'GET',\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('adminToken') || ''}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nexport const startDirectChat = async (listener_id: string): Promise<ApiResponse> => {\r\n  return apiCall('/chat/start-direct/', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('adminToken') || ''}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ recipient_id:listener_id }),\r\n  });\r\n}\r\n\r\nexport const getMessages = async (room_id: number): Promise<ApiResponse> => {\r\n  return apiCall(`/chat/${room_id}/messages/`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('adminToken') || ''}`,\r\n      'Content-Type': 'application/json',\r\n    },  \r\n  });\r\n}\r\n\r\nexport const acceptConnection = async (connectionId: number, action: 'accept' | 'reject'): Promise<ApiResponse> => {\r\n  return apiCall('/api/accept-connection/', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('adminToken') || ''}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      connection_id: connectionId,\r\n      action: action\r\n    }),\r\n  });\r\n}\r\n\r\nexport const connection = async (listener_id: string): Promise<ApiResponse> => {\r\n  return apiCall('/api/connection-request/', {\r\n    method: 'POST',\r\n    headers: { \r\n      'Authorization': `Bearer ${localStorage.getItem('adminToken') || ''}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({listener_id:listener_id} ),\r\n  });\r\n}\r\n\r\nexport const getUserProfile = async (): Promise<ApiResponse> => {\r\n  return apiCall('/api/user-profile/', {\r\n    method: 'GET',\r\n    headers: { \r\n      'Authorization': `Bearer ${localStorage.getItem('adminToken') || ''}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nexport const updateUserProfile = async (profileData: FormData): Promise<ApiResponse> => {\r\n  try {\r\n    const url = getApiUrl('/api/user-profile/');\r\n    \r\n    const response = await fetch(url, {\r\n      method: 'PUT',\r\n      headers: { \r\n        'Authorization': `Bearer ${localStorage.getItem('adminToken') || ''}`,\r\n        // Don't set Content-Type for FormData, let browser set it with boundary\r\n      },\r\n      body: profileData,\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (!response.ok) {\r\n      return {\r\n        success: false,\r\n        error: data.message || data.error || `HTTP ${response.status}`,\r\n        data: data\r\n      };\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      data: data,\r\n      message: data.message\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      error: error instanceof Error ? error.message : 'Network error occurred'\r\n    };\r\n  }\r\n}\r\n\r\nexport const listener = async (listenerId: string): Promise<ApiResponse> => {\r\n  return listenerList(listenerId);\r\n}\r\n\r\nexport const getCategories = async (): Promise<ApiResponse<ApiCategory[]>> => {\r\n  return apiCall<ApiCategory[]>('/api/categories/', {\r\n    method: 'GET',\r\n  });\r\n}\r\n\r\nexport const getBlogs = async (): Promise<ApiResponse> => {\r\n  return apiCall('/api/blogs/', {\r\n    method: 'GET',\r\n  });\r\n}\r\n\r\nexport const getBlogBySlug = async (slug: string): Promise<ApiResponse> => {\r\n  return apiCall(`/api/blogs/${slug}/`, {\r\n    method: 'GET',\r\n  });\r\n}\r\n\r\n// Testimonial API functions\r\nexport const getTestimonials = async (): Promise<ApiResponse<Testimonial[]>> => {\r\n  return apiCall<Testimonial[]>('/api/testimonials/', {\r\n    method: 'GET',\r\n  });\r\n}\r\n\r\nexport const getTestimonialById = async (id: number): Promise<ApiResponse<Testimonial>> => {\r\n  return apiCall<Testimonial>(`/api/testimonials/${id}/`, {\r\n    method: 'GET',\r\n  });\r\n}\r\n\r\nexport const createTestimonial = async (testimonialData: Omit<Testimonial, 'id' | 'created_at'>): Promise<ApiResponse<Testimonial>> => {\r\n  return apiCall<Testimonial>('/api/testimonials/', {\r\n    method: 'POST',\r\n    body: JSON.stringify(testimonialData),\r\n  });\r\n}\r\n\r\n\r\nexport const updateTestimonial = async (id: number, testimonialData: Partial<Testimonial>): Promise<ApiResponse<Testimonial>> => {\r\n  return apiCall<Testimonial>(`/api/testimonials/${id}/`, {\r\n    method: 'PUT',\r\n    body: JSON.stringify(testimonialData),\r\n  });\r\n}\r\n\r\nexport const deleteTestimonial = async (id: number): Promise<ApiResponse> => {\r\n  return apiCall(`/api/testimonials/${id}/`, {\r\n    method: 'DELETE',\r\n  });\r\n}\r\n\r\n// Helper function to check if a listener is already connected\r\nexport const isListenerConnected = (listenerId: string, connectedListeners: any[]): boolean => {\r\n  return connectedListeners.some(conn => \r\n    conn.listener_profile?.l_id === listenerId && conn.status === 'Accepted'\r\n  );\r\n}\r\n\r\n// Blog Like API functions\r\nexport const likeBlog = async (blogId: number): Promise<ApiResponse> => {\r\n  return apiCall(`/api/blogs/${blogId}/like/`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('adminToken') || ''}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nexport const unlikeBlog = async (blogId: number): Promise<ApiResponse> => {\r\n  return apiCall(`/api/blogs/${blogId}/like/`, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('adminToken') || ''}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nexport const toggleBlogLike = async (blogId: number): Promise<ApiResponse> => {\r\n  return apiCall(`/api/blogs/${blogId}/toggle-like/`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('adminToken') || ''}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nexport const getBlogLikes = async (blogId: number): Promise<ApiResponse> => {\r\n  return apiCall(`/api/blogs/${blogId}/likes/`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('adminToken') || ''}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\n// Rating and Feedback API functions\r\nexport interface RatingFeedback {\r\n  id: string;\r\n  seeker_name: string;\r\n  rating: number;\r\n  feedback: string;\r\n  created_at: string;\r\n  seeker_avatar?: string;\r\n}\r\n\r\nexport interface RatingFeedbackData {\r\n  listener_id: string;\r\n  rating: number;\r\n  feedback: string;\r\n}\r\n\r\nexport const submitRatingFeedback = async (data: RatingFeedbackData): Promise<ApiResponse<RatingFeedback>> => {\r\n  return apiCall<RatingFeedback>('/api/ratings/', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('adminToken') || ''}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(data),\r\n  });\r\n}\r\n\r\nexport const getListenerRatings = async (listenerId: string): Promise<ApiResponse<RatingFeedback[]>> => {\r\n  return apiCall<RatingFeedback[]>(`/api/ratings/listener/${listenerId}/`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('adminToken') || ''}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nexport const getListenerRatingStats = async (listenerId: string): Promise<ApiResponse<{average_rating: number, total_reviews: number}>> => {\r\n  return apiCall<{average_rating: number, total_reviews: number}>(`/api/ratings/listener/${listenerId}/stats/`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('adminToken') || ''}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\n// Unread message API functions\r\nexport const markMessagesAsRead = async (roomId: number): Promise<ApiResponse> => {\r\n  return apiCall(`/chat/${roomId}/mark-read/`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('adminToken') || ''}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}\r\n\r\nexport const getUnreadCounts = async (): Promise<ApiResponse<{[roomId: number]: number}>> => {\r\n  return apiCall<{[roomId: number]: number}>('/chat/unread-counts/', {\r\n    method: 'GET',\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('adminToken') || ''}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 482, "column": 0}, "map": {"version":3,"sources":["file:///D:/OfficeProject/lissnify23-9-25/elysian/Front-end/lissnify/src/Components/UserDropdown.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { User, LogOut } from 'lucide-react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { getDashboardUrl } from '@/utils/api';\r\n\r\nconst UserDropdown: React.FC = () => {\r\n  const { user, logout } = useAuth();\r\n  const router = useRouter();\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    router.push('/login');\r\n  };\r\n\r\n  const handleProfileClick = () => {\r\n    if (user?.user_type) {\r\n      const profileUrl = getDashboardUrl(user.user_type) + '/profile';\r\n      router.push(profileUrl);\r\n    }\r\n  };\r\n\r\n  if (!user) return null;\r\n\r\n  return (\r\n    <div className=\"flex items-center space-x-3\">\r\n      {/* User Info with Profile Click */}\r\n      <div \r\n        onClick={handleProfileClick}\r\n        className=\"flex items-center space-x-2 px-3 py-2 text-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 transition-all duration-200\"\r\n      >\r\n        <div className=\"w-8 h-8 bg-gradient-to-r from-orange-400 to-yellow-400 rounded-full flex items-center justify-center\">\r\n          <User className=\"w-4 h-4 text-white\" />\r\n        </div>\r\n        <span className=\"font-medium text-lg text-black\">\r\n          Hello, {user.full_name}\r\n        </span>\r\n      </div>\r\n      \r\n      {/* Logout Button */}\r\n      <button\r\n        onClick={handleLogout}\r\n        className=\"flex items-center space-x-2 px-4 py-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-all duration-200 border border-red-200 hover:border-red-300\"\r\n      >\r\n        <LogOut className=\"w-4 h-4\" />\r\n        <span className=\"text-sm font-medium\">Logout</span>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserDropdown;\r\n"],"names":[],"mappings":";;;;AAGA;AACA;AAAA;AACA;AACA;;;AANA;;;;;AAQA,MAAM,eAAyB;;IAC7B,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,UAAO,AAAD;IAC/B,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,eAAe;QACnB;QACA,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,qBAAqB;QACzB,IAAI,iBAAA,2BAAA,KAAM,SAAS,EAAE;YACnB,MAAM,aAAa,CAAA,GAAA,sHAAA,CAAA,kBAAe,AAAD,EAAE,KAAK,SAAS,IAAI;YACrD,OAAO,IAAI,CAAC;QACd;IACF;IAEA,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBACC,SAAS;gBACT,WAAU;;kCAEV,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,qMAAA,CAAA,OAAI;4BAAC,WAAU;;;;;;;;;;;kCAElB,6LAAC;wBAAK,WAAU;;4BAAiC;4BACvC,KAAK,SAAS;;;;;;;;;;;;;0BAK1B,6LAAC;gBACC,SAAS;gBACT,WAAU;;kCAEV,6LAAC,6MAAA,CAAA,SAAM;wBAAC,WAAU;;;;;;kCAClB,6LAAC;wBAAK,WAAU;kCAAsB;;;;;;;;;;;;;;;;;;AAI9C;GA3CM;;QACqB,kIAAA,CAAA,UAAO;QACjB,qIAAA,CAAA,YAAS;;;KAFpB;uCA6CS","debugId":null}},
    {"offset": {"line": 602, "column": 0}, "map": {"version":3,"sources":["file:///D:/OfficeProject/lissnify23-9-25/elysian/Front-end/lissnify/src/hooks/useNotifications.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\n\r\nexport interface Notification {\r\n  id: number;\r\n  recipient: number;\r\n  sender: number;\r\n  notification_type: 'message' | 'connection_request' | 'connection_accepted' | 'connection_rejected' | 'system';\r\n  title: string;\r\n  message: string;\r\n  is_read: boolean;\r\n  created_at: string;\r\n  updated_at: string;\r\n  chat_room_id?: number;\r\n  message_id?: number;\r\n  sender_username: string;\r\n  recipient_username: string;\r\n}\r\n\r\nexport interface NotificationStats {\r\n  total_notifications: number;\r\n  unread_notifications: number;\r\n  message_notifications: number;\r\n  connection_notifications: number;\r\n  system_notifications: number;\r\n}\r\n\r\nexport interface NotificationSettings {\r\n  message_notifications: boolean;\r\n  connection_notifications: boolean;\r\n  system_notifications: boolean;\r\n  email_notifications: boolean;\r\n  push_notifications: boolean;\r\n}\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api';\r\n\r\nexport const useNotifications = () => {\r\n  const [notifications, setNotifications] = useState<Notification[]>([]);\r\n  const [stats, setStats] = useState<NotificationStats | null>(null);\r\n  const [settings, setSettings] = useState<NotificationSettings | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const getAuthHeaders = () => {\r\n    const token = localStorage.getItem('adminToken');\r\n    return {\r\n      'Authorization': `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    };\r\n  };\r\n\r\n  const fetchNotifications = useCallback(async (params?: {\r\n    type?: string;\r\n    is_read?: boolean;\r\n    page?: number;\r\n    page_size?: number;\r\n  }) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const queryParams = new URLSearchParams();\r\n      if (params?.type) queryParams.append('type', params.type);\r\n      if (params?.is_read !== undefined) queryParams.append('is_read', params.is_read.toString());\r\n      if (params?.page) queryParams.append('page', params.page.toString());\r\n      if (params?.page_size) queryParams.append('page_size', params.page_size.toString());\r\n\r\n      const response = await fetch(\r\n        `${API_BASE_URL}/notifications/?${queryParams.toString()}`,\r\n        {\r\n          headers: getAuthHeaders(),\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch notifications');\r\n      }\r\n\r\n      const data = await response.json();\r\n      setNotifications(data.notifications);\r\n      return data;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const fetchStats = useCallback(async () => {\r\n    try {\r\n      console.log('ðŸ“Š Fetching notification stats...');\r\n      const response = await fetch(`${API_BASE_URL}/notifications/stats/`, {\r\n        headers: getAuthHeaders(),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch notification stats');\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('ðŸ“Š Stats received:', data);\r\n      setStats(data);\r\n      return data;\r\n    } catch (err) {\r\n      console.error('âŒ Error fetching stats:', err);\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      throw err;\r\n    }\r\n  }, []);\r\n\r\n  const fetchSettings = useCallback(async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/notifications/settings/`, {\r\n        headers: getAuthHeaders(),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch notification settings');\r\n      }\r\n\r\n      const data = await response.json();\r\n      setSettings(data);\r\n      return data;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      throw err;\r\n    }\r\n  }, []);\r\n\r\n  const markAsRead = useCallback(async (notificationId: number) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/notifications/${notificationId}/`, {\r\n        method: 'PATCH',\r\n        headers: getAuthHeaders(),\r\n        body: JSON.stringify({ is_read: true }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to mark notification as read');\r\n      }\r\n\r\n      // Update local state\r\n      setNotifications(prev => \r\n        prev.map(notification => \r\n          notification.id === notificationId \r\n            ? { ...notification, is_read: true }\r\n            : notification\r\n        )\r\n      );\r\n\r\n      // Update stats\r\n      if (stats) {\r\n        setStats(prev => prev ? {\r\n          ...prev,\r\n          unread_notifications: Math.max(0, prev.unread_notifications - 1)\r\n        } : null);\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      throw err;\r\n    }\r\n  }, [stats]);\r\n\r\n  const markAllAsRead = useCallback(async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/notifications/mark-all-read/`, {\r\n        method: 'POST',\r\n        headers: getAuthHeaders(),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to mark all notifications as read');\r\n      }\r\n\r\n      // Update local state\r\n      setNotifications(prev => \r\n        prev.map(notification => ({ ...notification, is_read: true }))\r\n      );\r\n\r\n      // Update stats\r\n      setStats(prev => prev ? {\r\n        ...prev,\r\n        unread_notifications: 0\r\n      } : null);\r\n\r\n      return await response.json();\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      throw err;\r\n    }\r\n  }, []);\r\n\r\n  const updateSettings = useCallback(async (newSettings: Partial<NotificationSettings>) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/notifications/settings/`, {\r\n        method: 'PUT',\r\n        headers: getAuthHeaders(),\r\n        body: JSON.stringify(newSettings),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to update notification settings');\r\n      }\r\n\r\n      const data = await response.json();\r\n      setSettings(data);\r\n      return data;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      throw err;\r\n    }\r\n  }, []);\r\n\r\n  const deleteNotification = useCallback(async (notificationId: number) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/notifications/${notificationId}/`, {\r\n        method: 'DELETE',\r\n        headers: getAuthHeaders(),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to delete notification');\r\n      }\r\n\r\n      // Update local state\r\n      setNotifications(prev => \r\n        prev.filter(notification => notification.id !== notificationId)\r\n      );\r\n\r\n      // Update stats\r\n      if (stats) {\r\n        setStats(prev => prev ? {\r\n          ...prev,\r\n          total_notifications: Math.max(0, prev.total_notifications - 1),\r\n          unread_notifications: Math.max(0, prev.unread_notifications - 1)\r\n        } : null);\r\n      }\r\n\r\n      return true;\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      throw err;\r\n    }\r\n  }, [stats]);\r\n\r\n  // Load initial data\r\n  useEffect(() => {\r\n    console.log('ðŸ”” Loading initial notification data...');\r\n    fetchNotifications();\r\n    fetchStats();\r\n    fetchSettings();\r\n  }, [fetchNotifications, fetchStats, fetchSettings]);\r\n\r\n  // Function to refresh stats (can be called from WebSocket)\r\n  const refreshStats = useCallback(() => {\r\n    fetchStats();\r\n  }, [fetchStats]);\r\n\r\n  return {\r\n    notifications,\r\n    stats,\r\n    settings,\r\n    loading,\r\n    error,\r\n    fetchNotifications,\r\n    fetchStats,\r\n    fetchSettings,\r\n    markAsRead,\r\n    markAllAsRead,\r\n    updateSettings,\r\n    deleteNotification,\r\n    refreshStats,\r\n  };\r\n};\r\n"],"names":[],"mappings":";;;AAkCqB;AAlCrB;;;AAkCA,MAAM,eAAe,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI;AAEjD,MAAM,mBAAmB;;IAC9B,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAkB,EAAE;IACrE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAA4B;IAC7D,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAA+B;IACtE,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,MAAM,iBAAiB;QACrB,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,OAAO;YACL,iBAAiB,AAAC,UAAe,OAAN;YAC3B,gBAAgB;QAClB;IACF;IAEA,MAAM,qBAAqB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;4DAAE,OAAO;YAM5C,WAAW;YACX,SAAS;YAET,IAAI;gBACF,MAAM,cAAc,IAAI;gBACxB,IAAI,mBAAA,6BAAA,OAAQ,IAAI,EAAE,YAAY,MAAM,CAAC,QAAQ,OAAO,IAAI;gBACxD,IAAI,CAAA,mBAAA,6BAAA,OAAQ,OAAO,MAAK,WAAW,YAAY,MAAM,CAAC,WAAW,OAAO,OAAO,CAAC,QAAQ;gBACxF,IAAI,mBAAA,6BAAA,OAAQ,IAAI,EAAE,YAAY,MAAM,CAAC,QAAQ,OAAO,IAAI,CAAC,QAAQ;gBACjE,IAAI,mBAAA,6BAAA,OAAQ,SAAS,EAAE,YAAY,MAAM,CAAC,aAAa,OAAO,SAAS,CAAC,QAAQ;gBAEhF,MAAM,WAAW,MAAM,MACrB,AAAC,GAAiC,OAA/B,cAAa,oBAAyC,OAAvB,YAAY,QAAQ,KACtD;oBACE,SAAS;gBACX;gBAGF,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,iBAAiB,KAAK,aAAa;gBACnC,OAAO;YACT,EAAE,OAAO,KAAK;gBACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAC9C,MAAM;YACR,SAAU;gBACR,WAAW;YACb;QACF;2DAAG,EAAE;IAEL,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;oDAAE;YAC7B,IAAI;gBACF,QAAQ,GAAG,CAAC;gBACZ,MAAM,WAAW,MAAM,MAAM,AAAC,GAAe,OAAb,cAAa,0BAAwB;oBACnE,SAAS;gBACX;gBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,QAAQ,GAAG,CAAC,sBAAsB;gBAClC,SAAS;gBACT,OAAO;YACT,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,2BAA2B;gBACzC,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAC9C,MAAM;YACR;QACF;mDAAG,EAAE;IAEL,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;uDAAE;YAChC,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,AAAC,GAAe,OAAb,cAAa,6BAA2B;oBACtE,SAAS;gBACX;gBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,YAAY;gBACZ,OAAO;YACT,EAAE,OAAO,KAAK;gBACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAC9C,MAAM;YACR;QACF;sDAAG,EAAE;IAEL,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;oDAAE,OAAO;YACpC,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,AAAC,GAAgC,OAA9B,cAAa,mBAAgC,OAAf,gBAAe,MAAI;oBAC/E,QAAQ;oBACR,SAAS;oBACT,MAAM,KAAK,SAAS,CAAC;wBAAE,SAAS;oBAAK;gBACvC;gBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,IAAI,MAAM;gBAClB;gBAEA,qBAAqB;gBACrB;gEAAiB,CAAA,OACf,KAAK,GAAG;wEAAC,CAAA,eACP,aAAa,EAAE,KAAK,iBAChB;oCAAE,GAAG,YAAY;oCAAE,SAAS;gCAAK,IACjC;;;gBAIR,eAAe;gBACf,IAAI,OAAO;oBACT;oEAAS,CAAA,OAAQ,OAAO;gCACtB,GAAG,IAAI;gCACP,sBAAsB,KAAK,GAAG,CAAC,GAAG,KAAK,oBAAoB,GAAG;4BAChE,IAAI;;gBACN;gBAEA,OAAO,MAAM,SAAS,IAAI;YAC5B,EAAE,OAAO,KAAK;gBACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAC9C,MAAM;YACR;QACF;mDAAG;QAAC;KAAM;IAEV,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;uDAAE;YAChC,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,AAAC,GAAe,OAAb,cAAa,kCAAgC;oBAC3E,QAAQ;oBACR,SAAS;gBACX;gBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,IAAI,MAAM;gBAClB;gBAEA,qBAAqB;gBACrB;mEAAiB,CAAA,OACf,KAAK,GAAG;2EAAC,CAAA,eAAgB,CAAC;oCAAE,GAAG,YAAY;oCAAE,SAAS;gCAAK,CAAC;;;gBAG9D,eAAe;gBACf;mEAAS,CAAA,OAAQ,OAAO;4BACtB,GAAG,IAAI;4BACP,sBAAsB;wBACxB,IAAI;;gBAEJ,OAAO,MAAM,SAAS,IAAI;YAC5B,EAAE,OAAO,KAAK;gBACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAC9C,MAAM;YACR;QACF;sDAAG,EAAE;IAEL,MAAM,iBAAiB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;wDAAE,OAAO;YACxC,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,AAAC,GAAe,OAAb,cAAa,6BAA2B;oBACtE,QAAQ;oBACR,SAAS;oBACT,MAAM,KAAK,SAAS,CAAC;gBACvB;gBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,YAAY;gBACZ,OAAO;YACT,EAAE,OAAO,KAAK;gBACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAC9C,MAAM;YACR;QACF;uDAAG,EAAE;IAEL,MAAM,qBAAqB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;4DAAE,OAAO;YAC5C,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,AAAC,GAAgC,OAA9B,cAAa,mBAAgC,OAAf,gBAAe,MAAI;oBAC/E,QAAQ;oBACR,SAAS;gBACX;gBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,IAAI,MAAM;gBAClB;gBAEA,qBAAqB;gBACrB;wEAAiB,CAAA,OACf,KAAK,MAAM;gFAAC,CAAA,eAAgB,aAAa,EAAE,KAAK;;;gBAGlD,eAAe;gBACf,IAAI,OAAO;oBACT;4EAAS,CAAA,OAAQ,OAAO;gCACtB,GAAG,IAAI;gCACP,qBAAqB,KAAK,GAAG,CAAC,GAAG,KAAK,mBAAmB,GAAG;gCAC5D,sBAAsB,KAAK,GAAG,CAAC,GAAG,KAAK,oBAAoB,GAAG;4BAChE,IAAI;;gBACN;gBAEA,OAAO;YACT,EAAE,OAAO,KAAK;gBACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAC9C,MAAM;YACR;QACF;2DAAG;QAAC;KAAM;IAEV,oBAAoB;IACpB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;sCAAE;YACR,QAAQ,GAAG,CAAC;YACZ;YACA;YACA;QACF;qCAAG;QAAC;QAAoB;QAAY;KAAc;IAElD,2DAA2D;IAC3D,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;sDAAE;YAC/B;QACF;qDAAG;QAAC;KAAW;IAEf,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;GAhPa","debugId":null}},
    {"offset": {"line": 865, "column": 0}, "map": {"version":3,"sources":["file:///D:/OfficeProject/lissnify23-9-25/elysian/Front-end/lissnify/src/hooks/useNotificationWebSocket.ts"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\n\r\nexport interface Notification {\r\n  id: number;\r\n  recipient: number;\r\n  sender: number;\r\n  notification_type: 'message' | 'connection_request' | 'connection_accepted' | 'connection_rejected' | 'system';\r\n  title: string;\r\n  message: string;\r\n  is_read: boolean;\r\n  created_at: string;\r\n  updated_at: string;\r\n  chat_room_id?: number;\r\n  message_id?: number;\r\n  sender_username: string;\r\n  recipient_username: string;\r\n}\r\n\r\ninterface WebSocketMessage {\r\n  type: 'notification' | 'unread_count';\r\n  notification?: Notification;\r\n  count?: number;\r\n}\r\n\r\nconst WS_BASE_URL = process.env.NEXT_PUBLIC_WS_URL || 'ws://localhost:8000';\r\n\r\nexport const useNotificationWebSocket = (onNotificationReceived?: () => void) => {\r\n  const [socket, setSocket] = useState<WebSocket | null>(null);\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [newNotification, setNewNotification] = useState<Notification | null>(null);\r\n  const reconnectTimeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n  const reconnectAttempts = useRef(0);\r\n  const maxReconnectAttempts = 5;\r\n\r\n  const connect = () => {\r\n    const token = localStorage.getItem('adminToken');\r\n    if (!token) {\r\n      console.error('No access token found');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const wsUrl = `${WS_BASE_URL}/ws/notifications/?token=${token}`;\r\n      console.log(`ðŸ”” Attempting to connect to notification WebSocket (attempt ${reconnectAttempts.current + 1})`);\r\n      const newSocket = new WebSocket(wsUrl);\r\n\r\n      newSocket.onopen = () => {\r\n        console.log('âœ… Notification WebSocket connected');\r\n        setIsConnected(true);\r\n        reconnectAttempts.current = 0;\r\n        \r\n        // Request initial unread count\r\n        getUnreadCount();\r\n      };\r\n\r\n      newSocket.onmessage = (event) => {\r\n        try {\r\n          const data: WebSocketMessage = JSON.parse(event.data);\r\n          console.log('ðŸ”” WebSocket message received:', data);\r\n          \r\n          if (data.type === 'notification' && data.notification) {\r\n            console.log('ðŸ“¬ New notification received:', data.notification);\r\n            setNewNotification(data.notification);\r\n            // Call the callback to refresh stats\r\n            if (onNotificationReceived) {\r\n              onNotificationReceived();\r\n            }\r\n            console.log('ðŸ“¬ Notification received, API stats will be refreshed');\r\n          } else if (data.type === 'unread_count' && data.count !== undefined) {\r\n            console.log('ðŸ“Š Unread count updated:', data.count);\r\n            setUnreadCount(data.count);\r\n          }\r\n        } catch (error) {\r\n          console.error('âŒ Error parsing WebSocket message:', error);\r\n        }\r\n      };\r\n\r\n      newSocket.onclose = (event) => {\r\n        console.log('ðŸ”Œ Notification WebSocket disconnected:', event.code, event.reason);\r\n        setIsConnected(false);\r\n        \r\n        // Attempt to reconnect if not a manual close\r\n        if (event.code !== 1000 && reconnectAttempts.current < maxReconnectAttempts) {\r\n          const delay = Math.pow(2, reconnectAttempts.current) * 1000; // Exponential backoff\r\n          console.log(`ðŸ”„ Reconnecting in ${delay}ms (attempt ${reconnectAttempts.current + 1}/${maxReconnectAttempts})`);\r\n          reconnectTimeoutRef.current = setTimeout(() => {\r\n            reconnectAttempts.current++;\r\n            connect();\r\n          }, delay);\r\n        } else if (reconnectAttempts.current >= maxReconnectAttempts) {\r\n          console.error('âŒ Max reconnection attempts reached for notification WebSocket');\r\n        }\r\n      };\r\n\r\n      newSocket.onerror = (error) => {\r\n        console.error('âŒ Notification WebSocket error:', error);\r\n        // Don't show error immediately on first attempt - let onclose handle retry logic\r\n        if (reconnectAttempts.current === 0) {\r\n          console.log('ðŸ”„ Initial notification connection failed, will retry...');\r\n        }\r\n      };\r\n\r\n      setSocket(newSocket);\r\n    } catch (error) {\r\n      console.error('âŒ Error creating notification WebSocket:', error);\r\n    }\r\n  };\r\n\r\n  const disconnect = () => {\r\n    if (reconnectTimeoutRef.current) {\r\n      clearTimeout(reconnectTimeoutRef.current);\r\n      reconnectTimeoutRef.current = null;\r\n    }\r\n    \r\n    if (socket) {\r\n      socket.close(1000, 'Manual disconnect');\r\n      setSocket(null);\r\n    }\r\n    setIsConnected(false);\r\n  };\r\n\r\n  const markAsRead = (notificationId: number) => {\r\n    if (socket && isConnected) {\r\n      socket.send(JSON.stringify({\r\n        type: 'mark_read',\r\n        notification_id: notificationId\r\n      }));\r\n    }\r\n  };\r\n\r\n  const getUnreadCount = () => {\r\n    if (socket && isConnected) {\r\n      socket.send(JSON.stringify({\r\n        type: 'get_unread_count'\r\n      }));\r\n    }\r\n  };\r\n\r\n  // Connect on mount with a delay to allow authentication to complete\r\n  useEffect(() => {\r\n    // Delay to ensure authentication is ready\r\n    const connectTimeout = setTimeout(() => {\r\n      connect();\r\n    }, 500);\r\n\r\n    return () => {\r\n      clearTimeout(connectTimeout);\r\n      disconnect();\r\n    };\r\n  }, []);\r\n\r\n  // Cleanup on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (reconnectTimeoutRef.current) {\r\n        clearTimeout(reconnectTimeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    isConnected,\r\n    unreadCount,\r\n    newNotification,\r\n    markAsRead,\r\n    getUnreadCount,\r\n    connect,\r\n    disconnect,\r\n  };\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1021, "column": 0}, "map": {"version":3,"sources":["file:///D:/OfficeProject/lissnify23-9-25/elysian/Front-end/lissnify/src/Components/NotificationBell.tsx"],"sourcesContent":["\r\n'use client';\r\n\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport { Bell, X, Settings, Check, Trash2 } from 'lucide-react';\r\nimport { useNotifications } from '@/hooks/useNotifications';\r\nimport { useNotificationWebSocket } from '@/hooks/useNotificationWebSocket';\r\n\r\ninterface NotificationBellProps {\r\n  className?: string;\r\n}\r\n\r\nexport default function NotificationBell({ className = '' }: NotificationBellProps) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const dropdownRef = useRef<HTMLDivElement>(null);\r\n  \r\n  const {\r\n    notifications,\r\n    stats,\r\n    settings,\r\n    loading,\r\n    markAsRead,\r\n    markAllAsRead,\r\n    deleteNotification,\r\n    updateSettings,\r\n    refreshStats,\r\n    fetchNotifications,\r\n  } = useNotifications();\r\n\r\n  const {\r\n    isConnected,\r\n    unreadCount,\r\n    newNotification,\r\n  } = useNotificationWebSocket(() => {\r\n    // Refresh stats when a new notification is received\r\n    refreshStats();\r\n  });\r\n\r\n  // Debug logging\r\n  useEffect(() => {\r\n    console.log('ðŸ”” NotificationBell - isConnected:', isConnected);\r\n    console.log('ðŸ”” NotificationBell - unreadCount (WebSocket):', unreadCount);\r\n    console.log('ðŸ”” NotificationBell - stats (API):', stats);\r\n    console.log('ðŸ”” NotificationBell - final count:', unreadCount || stats?.unread_notifications || 0);\r\n  }, [isConnected, unreadCount, stats]);\r\n\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n        setIsOpen(false);\r\n        setShowSettings(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  // Show new notification toast\r\n  useEffect(() => {\r\n    if (newNotification) {\r\n      // You can implement a toast notification here\r\n      console.log('New notification:', newNotification);\r\n    }\r\n  }, [newNotification]);\r\n\r\n  const handleMarkAsRead = async (notificationId: number) => {\r\n    try {\r\n      await markAsRead(notificationId);\r\n    } catch (error) {\r\n      console.error('Error marking notification as read:', error);\r\n    }\r\n  };\r\n\r\n  const handleMarkAllAsRead = async () => {\r\n    try {\r\n      await markAllAsRead();\r\n    } catch (error) {\r\n      console.error('Error marking all notifications as read:', error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteNotification = async (notificationId: number) => {\r\n    try {\r\n      await deleteNotification(notificationId);\r\n    } catch (error) {\r\n      console.error('Error deleting notification:', error);\r\n    }\r\n  };\r\n\r\n  const handleUpdateSettings = async (newSettings: any) => {\r\n    try {\r\n      await updateSettings(newSettings);\r\n    } catch (error) {\r\n      console.error('Error updating settings:', error);\r\n    }\r\n  };\r\n\r\n  const handleDropdownToggle = async () => {\r\n    const newIsOpen = !isOpen;\r\n    setIsOpen(newIsOpen);\r\n    \r\n    // If opening the dropdown, refresh notifications\r\n    if (newIsOpen) {\r\n      console.log('ðŸ”” Opening notification dropdown, refreshing notifications...');\r\n      try {\r\n        await fetchNotifications();\r\n        await refreshStats();\r\n      } catch (error) {\r\n        console.error('âŒ Error refreshing notifications:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleTestNotification = async () => {\r\n    try {\r\n      console.log('ðŸ§ª Creating test notification...');\r\n      const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL || 'https://elysian-birt.onrender.com/api'}/notifications/test/`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('adminToken')}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        console.log('âœ… Test notification created:', data);\r\n        // Refresh notifications\r\n        fetchNotifications();\r\n        refreshStats();\r\n      } else {\r\n        console.error('âŒ Failed to create test notification:', response.status);\r\n      }\r\n    } catch (error) {\r\n      console.error('âŒ Error creating test notification:', error);\r\n    }\r\n  };\r\n\r\n  const getNotificationIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'message':\r\n        return 'ðŸ’¬';\r\n      case 'connection_request':\r\n        return 'ðŸ‘¥';\r\n      case 'connection_accepted':\r\n        return 'âœ…';\r\n      case 'connection_rejected':\r\n        return 'âŒ';\r\n      case 'system':\r\n        return 'ðŸ””';\r\n      default:\r\n        return 'ðŸ””';\r\n    }\r\n  };\r\n\r\n  const formatTimeAgo = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffInSeconds = Math.floor((now.getTime() - date.getTime()) / 1000);\r\n\r\n    if (diffInSeconds < 60) return 'Just now';\r\n    if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)}m ago`;\r\n    if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)}h ago`;\r\n    return `${Math.floor(diffInSeconds / 86400)}d ago`;\r\n  };\r\n\r\n  return (\r\n    <div className={`relative ${className}`} ref={dropdownRef}>\r\n      {/* Bell Icon */}\r\n      <button\r\n        onClick={handleDropdownToggle}\r\n        className=\"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors\"\r\n      >\r\n        <Bell className=\"w-6 h-6\" />\r\n        {(() => {\r\n          const count = stats?.unread_notifications || 0;\r\n          return count > 0 && (\r\n            <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\r\n              {count > 99 ? '99+' : count}\r\n            </span>\r\n          );\r\n        })()}\r\n        {!isConnected && (\r\n          <div className=\"absolute -bottom-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full border-2 border-white\"></div>\r\n        )}\r\n      </button>\r\n\r\n      {/* Dropdown */}\r\n      {isOpen && (\r\n        <div className=\"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50\">\r\n          {/* Header */}\r\n          <div className=\"p-4 border-b border-gray-200\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                Notifications\r\n                {stats && stats.unread_notifications > 0 && (\r\n                  <span className=\"ml-2 text-sm text-gray-500\">\r\n                    ({stats.unread_notifications} unread)\r\n                  </span>\r\n                )}\r\n              </h3>\r\n              <div className=\"flex items-center space-x-2\">\r\n                <button\r\n                  onClick={handleTestNotification}\r\n                  className=\"p-1 text-blue-400 hover:text-blue-600 rounded text-xs\"\r\n                  title=\"Test notification\"\r\n                >\r\n                  ðŸ§ª\r\n                </button>\r\n                <button\r\n                  onClick={() => setShowSettings(!showSettings)}\r\n                  className=\"p-1 text-gray-400 hover:text-gray-600 rounded\"\r\n                >\r\n                  <Settings className=\"w-4 h-4\" />\r\n                </button>\r\n                <button\r\n                  onClick={() => setIsOpen(false)}\r\n                  className=\"p-1 text-gray-400 hover:text-gray-600 rounded\"\r\n                >\r\n                  <X className=\"w-4 h-4\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Settings Panel */}\r\n          {showSettings && settings && (\r\n            <div className=\"p-4 border-b border-gray-200 bg-gray-50\">\r\n              <h4 className=\"text-sm font-medium text-gray-900 mb-3\">Notification Settings</h4>\r\n              <div className=\"space-y-2\">\r\n                {Object.entries(settings).map(([key, value]) => (\r\n                  <label key={key} className=\"flex items-center space-x-2\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={value}\r\n                      onChange={(e) => handleUpdateSettings({ [key]: e.target.checked })}\r\n                      className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\r\n                    />\r\n                    <span className=\"text-sm text-gray-700 capitalize\">\r\n                      {key.replace('_', ' ')}\r\n                    </span>\r\n                  </label>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Notifications List */}\r\n          <div className=\"max-h-96 overflow-y-auto\">\r\n            {loading ? (\r\n              <div className=\"p-4 text-center text-gray-500\">Loading...</div>\r\n            ) : notifications.length === 0 ? (\r\n              <div className=\"p-4 text-center text-gray-500\">No notifications</div>\r\n            ) : (\r\n              <>\r\n            {stats && stats.unread_notifications > 0 && (\r\n              <div className=\"p-2 border-b border-gray-200\">\r\n                <button\r\n                  onClick={handleMarkAllAsRead}\r\n                  className=\"w-full text-left text-sm text-blue-600 hover:text-blue-800 py-1\"\r\n                >\r\n                  Mark all as read\r\n                </button>\r\n              </div>\r\n            )}\r\n                {notifications.map((notification) => (\r\n                  <div\r\n                    key={notification.id}\r\n                    className={`p-4 border-b border-gray-100 hover:bg-gray-50 ${\r\n                      !notification.is_read ? 'bg-blue-50' : ''\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-start space-x-3\">\r\n                      <div className=\"text-lg\">\r\n                        {getNotificationIcon(notification.notification_type)}\r\n                      </div>\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <p className=\"text-sm font-medium text-gray-900 truncate\">\r\n                            {notification.title}\r\n                          </p>\r\n                          <div className=\"flex items-center space-x-1\">\r\n                            {!notification.is_read && (\r\n                              <button\r\n                                onClick={() => handleMarkAsRead(notification.id)}\r\n                                className=\"p-1 text-gray-400 hover:text-green-600 rounded\"\r\n                                title=\"Mark as read\"\r\n                              >\r\n                                <Check className=\"w-3 h-3\" />\r\n                              </button>\r\n                            )}\r\n                            <button\r\n                              onClick={() => handleDeleteNotification(notification.id)}\r\n                              className=\"p-1 text-gray-400 hover:text-red-600 rounded\"\r\n                              title=\"Delete\"\r\n                            >\r\n                              <Trash2 className=\"w-3 h-3\" />\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                        <p className=\"text-sm text-gray-600 mt-1 line-clamp-2\">\r\n                          {notification.message}\r\n                        </p>\r\n                        <div className=\"flex items-center justify-between mt-2\">\r\n                          <p className=\"text-xs text-gray-500\">\r\n                            {formatTimeAgo(notification.created_at)}\r\n                          </p>\r\n                          {notification.sender_username && (\r\n                            <p className=\"text-xs text-gray-500\">\r\n                              from {notification.sender_username}\r\n                            </p>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          {/* Footer */}\r\n          {stats && (\r\n            <div className=\"p-3 border-t border-gray-200 bg-gray-50\">\r\n              <div className=\"flex justify-between text-xs text-gray-500\">\r\n                <span>Total: {stats.total_notifications}</span>\r\n                <span>Unread: {stats.unread_notifications}</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1605, "column": 0}, "map": {"version":3,"sources":["file:///D:/OfficeProject/lissnify23-9-25/elysian/Front-end/lissnify/src/Components/Navbar.jsx"],"sourcesContent":["\r\n\"use client\";\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { Heart, Menu, X, Home, Users, MessageCircle, Shield, Sun, Leaf, User, LogOut, LayoutDashboard, BookOpen } from \"lucide-react\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { getDashboardUrl } from \"@/utils/api\";\r\nimport UserDropdown from \"./UserDropdown\";\r\nimport NotificationBell from \"./NotificationBell\";\r\n\r\nexport default function Navbar() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const { isAuthenticated, isLoading, user, logout } = useAuth();\r\n  const router = useRouter();\r\n\r\n  // Get dashboard URL based on user type\r\n  const getDashboardUrlLocal = () => {\r\n    if (!user) return \"/\";\r\n    return user.user_type === \"seeker\" ? \"/dashboard/seeker\" : \"/dashboard/listener\";\r\n  };\r\n\r\n  // Base navigation items (always shown)\r\n  const baseNavItems = [\r\n    { name: \"Home\", href: \"/\", icon: Home },\r\n    { name: \"Community\", href: \"/community\", icon: Users },\r\n    { name: \"Blog\", href: \"/blog\", icon: BookOpen },\r\n  ];\r\n\r\n  // Dashboard item (only shown when logged in)\r\n  const dashboardItem = { name: \"Dashboard\", href: getDashboardUrlLocal(), icon: LayoutDashboard };\r\n\r\n  // Combine navigation items based on authentication status\r\n  const navItems = isAuthenticated ? [...baseNavItems, dashboardItem] : baseNavItems;\r\n  return (\r\n    <nav className=\"bg-white/95 backdrop-blur-md border-b-3 border-[#FFB88C]/30 px-6 py-2 fixed top-0 left-0 right-0 z-50 shadow-xl\">\r\n\r\n      {/* Subtle background texture */}\r\n      <div className=\"absolute inset-0 bg-gradient-to-r from-[#FFF8B5]/5 to-[#FFB88C]/5 opacity-50\"></div>\r\n\r\n\r\n      {/* Decorative elements */}\r\n      <div className=\"absolute top-0 left-1/4 w-32 h-32 bg-gradient-to-br from-[#FFF8B5]/20 to-[#F9E79F]/10 rounded-full blur-2xl\"></div>\r\n      <div className=\"absolute top-0 right-1/3 w-24 h-24 bg-gradient-to-br from-[#FFB88C]/15 to-[#FFD1A9]/10 rounded-full blur-xl\"></div>\r\n\r\n      <div className=\"container mx-auto flex justify-between items-center relative z-10\">\r\n\r\n        {/* Enhanced Logo with warm styling */}\r\n        <div className=\"flex items-center gap-4 \">\r\n          <Link href=\"/\" className=\"flex items-center hover:opacity-60 transition-opacity duration-600\">\r\n            <img \r\n              src=\"/logo.png\" \r\n              alt=\"Lissnify Logo\" \r\n              className=\"h-16 w-auto\"\r\n            />\r\n          </Link>\r\n        </div>\r\n\r\n        {/* Enhanced Desktop Menu with warm styling */}\r\n        <div className=\"hidden md:flex items-center space-x-2\">\r\n          {navItems.map((item, index) => {\r\n            const IconComponent = item.icon;\r\n            return (\r\n              <Link\r\n                key={index}\r\n                href={item.href}\r\n                className=\"group relative px-5 py-3 rounded-2xl text-black font-bold transition-all duration-300 hover:bg-white/70\"\r\n              >\r\n                <div className=\"flex items-center gap-3\">\r\n                  <span className=\"transition-colors duration-300 text-lg\">{item.name}</span>\r\n                </div>\r\n                <div className=\"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-0 h-1 bg-gradient-to-r from-[#FFB88C] to-[#F9E79F] group-hover:w-3/4 transition-all duration-300 rounded-full\"></div>\r\n              </Link>\r\n            );\r\n          })}\r\n\r\n          {/* Authentication Section */}\r\n          <div className=\"ml-8 pl-4 border-l-3 border-[#FFB88C]/40 flex items-center gap-3 relative\">\r\n            {!isLoading && (\r\n              <>\r\n                {isAuthenticated ? (\r\n                  // Show notification bell and user dropdown when logged in\r\n                  <>\r\n                    <NotificationBell />\r\n                    <UserDropdown />\r\n                  </>\r\n                ) : (\r\n                  // Show login/signup buttons when not logged in\r\n                  <>\r\n                    <Link href=\"/login\">\r\n                      <button className=\"group relative px-6 py-2 rounded-2xl text-black font-bold bg-white/70 hover:bg-white/90 transition-all duration-300 transform hover:scale-110 shadow-lg hover:shadow-xl overflow-hidden border-2 border-[#FFB88C]/30\">\r\n                        <span className=\"relative flex items-center gap-2\">\r\n                          Login\r\n                        </span>\r\n                      </button>\r\n                    </Link>\r\n                    <Link href=\"/signup\">\r\n                      <button className=\"group relative px-6 py-2 rounded-2xl text-white font-bold bg-gradient-to-r from-[#CD853F] to-[#D2691E] hover:from-[#D2691E] hover:to-[#CD853F] transition-all duration-300 transform hover:scale-110 shadow-2xl hover:shadow-3xl overflow-hidden border-2 border-white/30\">\r\n                        <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700\"></div>\r\n                        <span className=\"relative flex items-center gap-2\">\r\n                          Sign Up\r\n                        </span>\r\n                      </button>\r\n                    </Link>\r\n                  </>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Enhanced Mobile Hamburger with warm styling */}\r\n        <button\r\n          onClick={() => setIsOpen(!isOpen)}\r\n          className=\"md:hidden relative w-14 h-14 bg-white/70 backdrop-blur-sm rounded-2xl flex items-center justify-center hover:bg-white/90 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-[#FFB88C]/30 group shadow-lg border-2 border-[#FFB88C]/20\"\r\n        >\r\n          <div className=\"absolute inset-0 bg-gradient-to-br from-[#FFF8B5]/10 to-[#FFB88C]/5 rounded-2xl\"></div>\r\n          {isOpen ? (\r\n            <X className=\"w-7 h-7 text-[#8B4513] group-hover:text-[#A0522D] transition-colors duration-300 relative z-10\" />\r\n          ) : (\r\n            <Menu className=\"w-7 h-7 text-[#8B4513] group-hover:text-[#A0522D] transition-colors duration-300 relative z-10\" />\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Enhanced Mobile Menu with warm, nurturing design */}\r\n      {isOpen && (\r\n        <div className=\"md:hidden mt-6 bg-white/95 backdrop-blur-md rounded-3xl border-3 border-[#FFB88C]/30 shadow-2xl p-6 mx-4 animate-fadeIn relative overflow-hidden\">\r\n\r\n          {/* Mobile menu background decoration */}\r\n          <div className=\"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-[#FFF8B5]/20 to-[#F9E79F]/10 rounded-full blur-2xl\"></div>\r\n          <div className=\"absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-br from-[#FFB88C]/15 to-[#FFD1A9]/10 rounded-full blur-2xl\"></div>\r\n\r\n          <div className=\"space-y-3 relative z-10\">\r\n            {navItems.map((item, index) => {\r\n              const IconComponent = item.icon;\r\n              return (\r\n                <Link\r\n                  key={index}\r\n                  href={item.href}\r\n                  className=\"group flex items-center gap-4 px-5 py-4 rounded-2xl text-[#8B4513] font-bold hover:bg-gradient-to-r hover:from-[#FFF8B5]/20 hover:to-[#FFB88C]/15 transition-all duration-300 hover:shadow-lg hover:scale-105 border-2 border-transparent hover:border-[#FFB88C]/20\"\r\n                  onClick={() => setIsOpen(false)}\r\n                >\r\n                  <div className=\"w-12 h-12 bg-gradient-to-br from-[#FFF8B5]/30 to-[#F9E79F]/20 rounded-2xl flex items-center justify-center group-hover:from-[#FFB88C]/30 group-hover:to-[#F9E79F]/30 transition-all duration-300 group-hover:scale-110 shadow-lg\">\r\n                    <IconComponent className=\"w-6 h-6 text-[#8B4513] group-hover:text-[#A0522D] transition-colors duration-300\" />\r\n                  </div>\r\n                  <span className=\"group-hover:text-[#A0522D] transition-colors duration-300 text-xl\">{item.name}</span>\r\n                  <div className=\"ml-auto w-2 h-2 bg-gradient-to-r from-[#FFB88C] to-[#F9E79F] rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\r\n                </Link>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {/* Mobile Authentication Section */}\r\n          <div className=\"mt-8 pt-6 border-t-2 border-[#FFB88C]/30 relative z-10 space-y-3\">\r\n            {!isLoading && (\r\n              <>\r\n                {isAuthenticated ? (\r\n                  // Show user info in mobile menu when logged in\r\n                  <div className=\"text-center\">\r\n                    <div className=\"flex items-center justify-center gap-4 mb-4\">\r\n                      <div \r\n                        onClick={() => {\r\n                          const profileUrl = getDashboardUrlLocal() + '/profile';\r\n                          router.push(profileUrl);\r\n                          setIsOpen(false);\r\n                        }}\r\n                        className=\"w-16 h-16 bg-gradient-to-r from-orange-400 to-yellow-400 rounded-full flex items-center justify-center cursor-pointer hover:scale-105 transition-transform duration-200\"\r\n                      >\r\n                        <User className=\"w-8 h-8 text-white\" />\r\n                      </div>\r\n                      <div className=\"flex items-center\">\r\n                        <NotificationBell />\r\n                      </div>\r\n                    </div>\r\n                    <p \r\n                      onClick={() => {\r\n                        const profileUrl = getDashboardUrlLocal() + '/profile';\r\n                        router.push(profileUrl);\r\n                        setIsOpen(false);\r\n                      }}\r\n                      className=\"text-lg font-bold text-black mb-4 cursor-pointer hover:text-orange-600 transition-colors duration-200\"\r\n                    >\r\n                      Hello, {user?.full_name}\r\n                    </p>\r\n                    <button\r\n                      onClick={() => {\r\n                        logout();\r\n\r\n                        // 2. Then, clear the browser storage.\r\n                        localStorage.clear();\r\n                        localStorage.removeItem(\"adminToken\");\r\n                        // 3. Finally, close the menu.\r\n                        setIsOpen(false);\r\n                      }}\r\n                      className=\"group w-full relative px-8 py-4 rounded-2xl text-red-600 font-bold bg-white/70 hover:bg-red-50 transition-all duration-300 shadow-lg hover:shadow-xl overflow-hidden border-2 border-red-200 hover:border-red-300\"\r\n                    >\r\n                      <span className=\"relative flex items-center justify-center gap-3 text-xl\">\r\n                        <LogOut className=\"w-6 h-6\" />\r\n                        Sign Out\r\n                      </span>\r\n                    </button>\r\n                  </div>\r\n                ) : (\r\n                  // Show login/signup buttons when not logged in\r\n                  <>\r\n                    <Link href=\"/login\" onClick={() => setIsOpen(false)}>\r\n                      <button className=\"group w-full relative px-8 py-4 rounded-2xl text-black font-bold bg-white/70 hover:bg-white/90 transition-all duration-300 shadow-lg hover:shadow-xl overflow-hidden border-2 border-[#FFB88C]/30\">\r\n                        <span className=\"relative flex items-center justify-center gap-3 text-xl\">\r\n                          Login\r\n                        </span>\r\n                      </button>\r\n                    </Link>\r\n                    <Link href=\"/signup\" onClick={() => setIsOpen(false)}>\r\n                      <button className=\"group w-full relative px-8 py-4 rounded-2xl text-white font-bold bg-gradient-to-r from-[#CD853F] to-[#D2691E] hover:from-[#D2691E] hover:to-[#CD853F] transition-all duration-300 shadow-2xl hover:shadow-3xl overflow-hidden hover:scale-105 border-2 border-white/30\">\r\n                        <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700\"></div>\r\n                        <span className=\"relative flex items-center justify-center gap-3 text-xl\">\r\n                          Sign Up\r\n                        </span>\r\n                      </button>\r\n                    </Link>\r\n                  </>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Enhanced custom styles with warm animations */}\r\n      <style jsx>{`\r\n        @keyframes fadeIn {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(-15px) scale(0.95);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0) scale(1);\r\n          }\r\n        }\r\n        \r\n        .animate-fadeIn {\r\n          animation: fadeIn 0.4s ease-out;\r\n        }\r\n        \r\n        .shadow-3xl {\r\n          box-shadow: 0 25px 50px -12px rgba(139, 69, 19, 0.25);\r\n        }\r\n        \r\n        .border-3 {\r\n          border-width: 3px;\r\n        }\r\n        \r\n        nav {\r\n          position: fixed !important;\r\n          top: 0 !important;\r\n          left: 0 !important;\r\n          right: 0 !important;\r\n          z-index: 9999 !important;\r\n          width: 100% !important;\r\n        }\r\n      `}</style>\r\n    </nav>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2156, "column": 0}, "map": {"version":3,"sources":["file:///D:/OfficeProject/lissnify23-9-25/elysian/Front-end/lissnify/src/Components/DashboardSidebar.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport {\r\n  LayoutDashboard,\r\n  MessageSquare,\r\n  Users,\r\n  Calendar,\r\n  Users2,\r\n  Settings,\r\n  LogOut,\r\n  Menu,\r\n  X,\r\n  User,\r\n  Star,\r\n\r\n} from \"lucide-react\";\r\n\r\ninterface DashboardSidebarProps {\r\n  userType: 'seeker' | 'listener';\r\n}\r\n\r\nexport default function DashboardSidebar({ userType }: DashboardSidebarProps) {\r\n  const [isCollapsed, setIsCollapsed] = useState(false);\r\n  const [isMobileOpen, setIsMobileOpen] = useState(false);\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n\r\n  const seekerNavItems = [\r\n    { id: 'dashboard', label: 'Dashboard', icon: LayoutDashboard, path: '/dashboard/seeker' },\r\n    { id: 'chats', label: 'Chats', icon: MessageSquare, path: '/dashboard/seeker/chats' },\r\n    { id: 'community', label: 'Community', icon: Users2, path: '/community' },\r\n    { id: 'profile', label: 'Profile', icon: User, path: '/dashboard/seeker/profile' },\r\n    { id: 'feedback', label: 'Feedback', icon: Star, path: '/dashboard/seeker/feedback' }\r\n  ];\r\n\r\n  const listenerNavItems = [\r\n    { id: 'dashboard', label: 'Dashboard', icon: LayoutDashboard, path: '/dashboard/listener' },\r\n    { id: 'chats', label: 'Chats', icon: MessageSquare, path: '/dashboard/listener/chats' },\r\n    { id: 'community', label: 'Community', icon: Users2, path: '/community' },\r\n    { id: 'profile', label: 'Profile', icon: User, path: '/dashboard/listener/profile' },\r\n  ];\r\n\r\n  const navItems = userType === 'seeker' ? seekerNavItems : listenerNavItems;\r\n\r\n  const handleNavigation = (path: string) => {\r\n    router.push(path);\r\n    setIsMobileOpen(false); // Close mobile menu after navigation\r\n  };\r\n\r\n  const isActive = (path: string) => {\r\n    return pathname === path;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Mobile Toggle Button */}\r\n      <button\r\n        onClick={() => setIsMobileOpen(!isMobileOpen)}\r\n        className=\"md:hidden fixed top-24 left-4 z-50 p-2 bg-white/90 backdrop-blur-md rounded-lg shadow-lg border border-white/50\"\r\n        aria-label=\"Toggle sidebar\"\r\n      >\r\n        <Menu className=\"w-5 h-5 text-gray-600\" />\r\n      </button>\r\n\r\n      {/* Sidebar */}\r\n      <div className={`fixed left-0 top-20 h-full bg-white/90 backdrop-blur-md shadow-xl border-r border-white/50 z-10 transition-all duration-300 ${isCollapsed ? 'w-20' : 'w-64'\r\n        } ${isMobileOpen ? 'block' : 'hidden'} md:block`}>\r\n        <div className=\"p-6\">\r\n          {/* Brand Section */}\r\n          <div className=\"flex items-center justify-between mb-8\">\r\n            {!isCollapsed && (\r\n              <Link href=\"/\" className=\"flex items-center gap-3 hover:opacity-80 transition-opacity duration-300\">\r\n                <img \r\n                  src=\"/logo.png\" \r\n                  alt=\"Lissnify Logo\" \r\n                  className=\"h-15 w-auto\"\r\n                />\r\n              \r\n              </Link>\r\n            )}\r\n            <button\r\n              onClick={() => setIsCollapsed(!isCollapsed)}\r\n              className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n              aria-label={isCollapsed ? \"Expand sidebar\" : \"Collapse sidebar\"}\r\n            >\r\n              {isCollapsed ? <Menu className=\"w-5 h-5 text-gray-600\" /> : <X className=\"w-5 h-5 text-gray-600\" />}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Navigation Items */}\r\n          <nav className=\"space-y-4\">\r\n            {navItems.map((item) => {\r\n              const IconComponent = item.icon;\r\n              return (\r\n                <button\r\n                  key={item.id}\r\n                  onClick={() => handleNavigation(item.path)}\r\n                  className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 ${isActive(item.path)\r\n                      ? 'bg-gradient-to-r from-[#FFB88C] to-[#FFF8B5] text-black shadow-lg'\r\n                      : 'text-gray-600 hover:bg-gray-50 hover:text-black'\r\n                    }`}\r\n                  aria-label={item.label}\r\n                >\r\n                  <IconComponent className=\"w-5 h-5 flex-shrink-0\" />\r\n                  {!isCollapsed && <span>{item.label}</span>}\r\n                </button>\r\n              );\r\n            })}\r\n          </nav>\r\n\r\n          {/* Logout Button */}\r\n          <div className={`absolute bottom-6 ${isCollapsed ? 'left-6 right-6' : 'left-6 right-6'}`}>\r\n            <button\r\n              className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium text-red-600 hover:bg-red-50 transition-all duration-200\"\r\n              aria-label=\"Logout\"\r\n            >\r\n              <LogOut className=\"w-5 h-5 flex-shrink-0\" />\r\n              {!isCollapsed && <span>Logout</span>}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AALA;;;;;AAwBe,SAAS,iBAAiB,KAAmC;QAAnC,EAAE,QAAQ,EAAyB,GAAnC;;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAE3B,MAAM,iBAAiB;QACrB;YAAE,IAAI;YAAa,OAAO;YAAa,MAAM,+NAAA,CAAA,kBAAe;YAAE,MAAM;QAAoB;QACxF;YAAE,IAAI;YAAS,OAAO;YAAS,MAAM,2NAAA,CAAA,gBAAa;YAAE,MAAM;QAA0B;QACpF;YAAE,IAAI;YAAa,OAAO;YAAa,MAAM,iNAAA,CAAA,SAAM;YAAE,MAAM;QAAa;QACxE;YAAE,IAAI;YAAW,OAAO;YAAW,MAAM,qMAAA,CAAA,OAAI;YAAE,MAAM;QAA4B;QACjF;YAAE,IAAI;YAAY,OAAO;YAAY,MAAM,qMAAA,CAAA,OAAI;YAAE,MAAM;QAA6B;KACrF;IAED,MAAM,mBAAmB;QACvB;YAAE,IAAI;YAAa,OAAO;YAAa,MAAM,+NAAA,CAAA,kBAAe;YAAE,MAAM;QAAsB;QAC1F;YAAE,IAAI;YAAS,OAAO;YAAS,MAAM,2NAAA,CAAA,gBAAa;YAAE,MAAM;QAA4B;QACtF;YAAE,IAAI;YAAa,OAAO;YAAa,MAAM,iNAAA,CAAA,SAAM;YAAE,MAAM;QAAa;QACxE;YAAE,IAAI;YAAW,OAAO;YAAW,MAAM,qMAAA,CAAA,OAAI;YAAE,MAAM;QAA8B;KACpF;IAED,MAAM,WAAW,aAAa,WAAW,iBAAiB;IAE1D,MAAM,mBAAmB,CAAC;QACxB,OAAO,IAAI,CAAC;QACZ,gBAAgB,QAAQ,qCAAqC;IAC/D;IAEA,MAAM,WAAW,CAAC;QAChB,OAAO,aAAa;IACtB;IAEA,qBACE;;0BAEE,6LAAC;gBACC,SAAS,IAAM,gBAAgB,CAAC;gBAChC,WAAU;gBACV,cAAW;0BAEX,cAAA,6LAAC,qMAAA,CAAA,OAAI;oBAAC,WAAU;;;;;;;;;;;0BAIlB,6LAAC;gBAAI,WAAW,AAAC,+HACX,OADyI,cAAc,SAAS,QACnK,KAAqC,OAAlC,eAAe,UAAU,UAAS;0BACtC,cAAA,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;;gCACZ,CAAC,6BACA,6LAAC,+JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAI,WAAU;8CACvB,cAAA,6LAAC;wCACC,KAAI;wCACJ,KAAI;wCACJ,WAAU;;;;;;;;;;;8CAKhB,6LAAC;oCACC,SAAS,IAAM,eAAe,CAAC;oCAC/B,WAAU;oCACV,cAAY,cAAc,mBAAmB;8CAE5C,4BAAc,6LAAC,qMAAA,CAAA,OAAI;wCAAC,WAAU;;;;;6DAA6B,6LAAC,+LAAA,CAAA,IAAC;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAK7E,6LAAC;4BAAI,WAAU;sCACZ,SAAS,GAAG,CAAC,CAAC;gCACb,MAAM,gBAAgB,KAAK,IAAI;gCAC/B,qBACE,6LAAC;oCAEC,SAAS,IAAM,iBAAiB,KAAK,IAAI;oCACzC,WAAW,AAAC,+FAGT,OAHuG,SAAS,KAAK,IAAI,IACtH,sEACA;oCAEN,cAAY,KAAK,KAAK;;sDAEtB,6LAAC;4CAAc,WAAU;;;;;;wCACxB,CAAC,6BAAe,6LAAC;sDAAM,KAAK,KAAK;;;;;;;mCAT7B,KAAK,EAAE;;;;;4BAYlB;;;;;;sCAIF,6LAAC;4BAAI,WAAW,AAAC,qBAAsE,OAAlD,cAAc,mBAAmB;sCACpE,cAAA,6LAAC;gCACC,WAAU;gCACV,cAAW;;kDAEX,6LAAC,6MAAA,CAAA,SAAM;wCAAC,WAAU;;;;;;oCACjB,CAAC,6BAAe,6LAAC;kDAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOrC;GAvGwB;;QAGP,qIAAA,CAAA,YAAS;QACP,qIAAA,CAAA,cAAW;;;KAJN","debugId":null}},
    {"offset": {"line": 2420, "column": 0}, "map": {"version":3,"sources":["file:///D:/OfficeProject/lissnify23-9-25/elysian/Front-end/lissnify/src/Components/ProtectedRoute.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useEffect } from 'react';\r\n\r\ninterface ProtectedRouteProps {\r\n  children: React.ReactNode;\r\n  redirectTo?: string;\r\n}\r\n\r\nconst ProtectedRoute: React.FC<ProtectedRouteProps> = ({ \r\n  children, \r\n  redirectTo = '/login' \r\n}) => {\r\n  const { isAuthenticated, isLoading } = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!isLoading && !isAuthenticated) {\r\n      router.push(redirectTo);\r\n    }\r\n  }, [isAuthenticated, isLoading, router, redirectTo]);\r\n\r\n  // Show loading state while checking authentication\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-yellow-50 to-orange-100\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Show children only if authenticated\r\n  if (!isAuthenticated) {\r\n    return null; // Will redirect in useEffect\r\n  }\r\n\r\n  return <>{children}</>;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAWA,MAAM,iBAAgD;QAAC,EACrD,QAAQ,EACR,aAAa,QAAQ,EACtB;;IACC,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,UAAO,AAAD;IAC7C,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR,IAAI,CAAC,aAAa,CAAC,iBAAiB;gBAClC,OAAO,IAAI,CAAC;YACd;QACF;mCAAG;QAAC;QAAiB;QAAW;QAAQ;KAAW;IAEnD,mDAAmD;IACnD,IAAI,WAAW;QACb,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;;;;;;IAIrC;IAEA,sCAAsC;IACtC,IAAI,CAAC,iBAAiB;QACpB,OAAO,MAAM,6BAA6B;IAC5C;IAEA,qBAAO;kBAAG;;AACZ;GA/BM;;QAImC,kIAAA,CAAA,UAAO;QAC/B,qIAAA,CAAA,YAAS;;;KALpB;uCAiCS","debugId":null}},
    {"offset": {"line": 2511, "column": 0}, "map": {"version":3,"sources":["file:///D:/OfficeProject/lissnify23-9-25/elysian/Front-end/lissnify/src/Components/DashboardLayout.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { ReactNode } from \"react\";\r\nimport Navbar from \"@/Components/Navbar\";\r\nimport DashboardSidebar from \"@/Components/DashboardSidebar\";\r\nimport ProtectedRoute from \"@/Components/ProtectedRoute\";\r\n\r\ninterface DashboardLayoutProps {\r\n  userType: 'seeker' | 'listener';\r\n  children: ReactNode;\r\n}\r\n\r\nexport default function DashboardLayout({ userType, children }: DashboardLayoutProps) {\r\n  return (\r\n    <ProtectedRoute>\r\n      <div className=\"min-h-screen bg-gradient-to-br from-[#FFF8B5] to-[#FFB88C]\">\r\n        <Navbar />\r\n        \r\n        <div className=\"flex pt-20\">\r\n          {/* Left Sidebar */}\r\n          <DashboardSidebar userType={userType} />\r\n          \r\n          {/* Main Content Area */}\r\n          <div className=\"md:ml-64 flex-1 p-4 md:p-8\">\r\n            {children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AALA;;;;;AAYe,SAAS,gBAAgB,KAA4C;QAA5C,EAAE,QAAQ,EAAE,QAAQ,EAAwB,GAA5C;IACtC,qBACE,6LAAC,uIAAA,CAAA,UAAc;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC,+HAAA,CAAA,UAAM;;;;;8BAEP,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC,yIAAA,CAAA,UAAgB;4BAAC,UAAU;;;;;;sCAG5B,6LAAC;4BAAI,WAAU;sCACZ;;;;;;;;;;;;;;;;;;;;;;;AAMb;KAlBwB","debugId":null}},
    {"offset": {"line": 2582, "column": 0}, "map": {"version":3,"sources":["file:///D:/OfficeProject/lissnify23-9-25/elysian/Front-end/lissnify/src/app/dashboard/seeker/profile/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport DashboardLayout from \"@/Components/DashboardLayout\";\r\nimport { \r\n  User, \r\n  Mail, \r\n  Camera, \r\n  Save,\r\n  Loader2,\r\n  AlertCircle,\r\n  CheckCircle\r\n} from \"lucide-react\";\r\nimport { getUserProfile, updateUserProfile } from \"@/utils/api\";\r\nimport { toast } from \"react-toastify\";\r\nimport { API_CONFIG } from \"@/config/api\";\r\n\r\n\r\n// A small component for displaying API feedback\r\nconst AlertMessage = ({ message, type }: { message: string | null; type: 'error' | 'success' }) => {\r\n  if (!message) return null;\r\n  const isError = type === 'error';\r\n  const bgColor = isError ? 'bg-red-100 border-red-400' : 'bg-green-100 border-green-400';\r\n  const textColor = isError ? 'text-red-700' : 'text-green-700';\r\n  const Icon = isError ? AlertCircle : CheckCircle;\r\n\r\n  return (\r\n    <div className={`border-l-4 p-4 rounded-md ${bgColor}`} role=\"alert\">\r\n      <div className=\"flex\">\r\n        <div className=\"py-1\"><Icon className={`h-5 w-5 ${textColor}`} /></div>\r\n        <div className=\"ml-3\">\r\n          <p className={`text-sm ${textColor}`}>{message}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default function SeekerProfilePage() {\r\n  const router = useRouter();\r\n  \r\n  // State for form data\r\n  const [formData, setFormData] = useState({\r\n    full_name: '',\r\n    email: '',\r\n    DOB: '',\r\n  });\r\n\r\n  // State for UI control\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n\r\n  // State for API feedback\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [success, setSuccess] = useState<string | null>(null);\r\n\r\n  // State for profile picture\r\n  const [profileImageUrl, setProfileImageUrl] = useState<string | null>(null);\r\n  const [profileImageFile, setProfileImageFile] = useState<File | null>(null);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  // Store initial data to revert on cancel\r\n  const [initialData, setInitialData] = useState<any>({});\r\n\r\n  // Fetch profile data on component mount\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        setError(null);\r\n        const response = await getUserProfile();\r\n        \r\n        if (response.success && response.data) {\r\n          const profile = response.data;\r\n          console.log(\"Fetched profile:\", profile);\r\n          setFormData({\r\n            full_name: profile?.user.full_name || '',\r\n            email: profile?.user.email || '',\r\n            DOB: profile?.user.DOB || '',\r\n          });\r\n          setInitialData(profile);\r\n          setProfileImageUrl(`${API_CONFIG.BASE_URL}/${profile?.user.profile_image}` || null);\r\n        } else {\r\n          setError(response.error || 'Failed to load profile. Please try again.');\r\n        }\r\n      } catch (err) {\r\n        setError('Failed to load profile. Please try again.');\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      setProfileImageFile(file);\r\n      setProfileImageUrl(URL.createObjectURL(file)); // Create a temporary URL for preview\r\n      setIsEditing(true); // Automatically enter edit mode when image is changed\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setFormData({\r\n      full_name: initialData.full_name || '',\r\n      email: initialData.email || '',\r\n      DOB: initialData.DOB || '',\r\n    });\r\n    setProfileImageUrl(initialData.profile_image || null);\r\n    setProfileImageFile(null);\r\n    setIsEditing(false);\r\n    setError(null);\r\n    setSuccess(null);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setIsSaving(true);\r\n    setError(null);\r\n    setSuccess(null);\r\n\r\n    try {\r\n      const formDataToSend = new FormData();\r\n      \r\n      // Add form fields\r\n      formDataToSend.append('full_name', formData.full_name);\r\n      formDataToSend.append('DOB', formData.DOB);\r\n\r\n      // Add profile image if a new one was selected\r\n      if (profileImageFile) {\r\n        formDataToSend.append('image', profileImageFile);\r\n      }\r\n\r\n      // Update profile information\r\n      const response = await updateUserProfile(formDataToSend);\r\n      \r\n      if (response.success && response.data) {\r\n        setInitialData(response.data.user); // Update the \"cancel\" state with new saved data\r\n        setSuccess(\"Profile updated successfully!\");\r\n        setIsEditing(false);\r\n        \r\n        // Show success toast\r\n        toast.success(\"Profile updated successfully!\");\r\n        \r\n        // Redirect to dashboard after successful save\r\n        setTimeout(() => {\r\n          router.push('/dashboard/seeker');\r\n        }, 800); // 1.5 second delay to show success message\r\n      } else {\r\n        setError(response.error || \"Failed to update profile. Please try again.\");\r\n      }\r\n    } catch (err: any) {\r\n      setError(err.message || \"An error occurred. Please try again.\");\r\n    } finally {\r\n      setIsSaving(false);\r\n      setProfileImageFile(null); // Clear the file buffer\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <DashboardLayout userType=\"seeker\">\r\n        <div className=\"flex justify-center items-center h-64\">\r\n          <Loader2 className=\"w-12 h-12 animate-spin text-orange-500\" />\r\n        </div>\r\n      </DashboardLayout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <DashboardLayout userType=\"seeker\">\r\n      <div className=\"space-y-8\">\r\n        {/* Header */}\r\n        <div className=\"text-center\">\r\n          <h1 className=\"text-4xl md:text-5xl font-bold text-black mb-4\">\r\n            Profile Settings\r\n          </h1>\r\n          <p className=\"text-xl text-black/80 max-w-2xl mx-auto\">\r\n            Manage your account information and preferences\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"max-w-2xl mx-auto\">\r\n          <div className=\"bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-xl border border-white/50\">\r\n            <div className=\"space-y-6\">\r\n              \r\n              {/* API Feedback Messages */}\r\n              <AlertMessage message={error} type=\"error\" />\r\n              <AlertMessage message={success} type=\"success\" />\r\n\r\n              {/* Profile Picture Section */}\r\n              <div className=\"text-center\">\r\n                <div className=\"relative inline-block\">\r\n                  <input\r\n                    type=\"file\"\r\n                    ref={fileInputRef}\r\n                    onChange={handleFileChange}\r\n                    accept=\"image/*\"\r\n                    className=\"hidden\"\r\n                  />\r\n                  {profileImageUrl ? (\r\n                    <img src={profileImageUrl} alt=\"Profile\" className=\"w-32 h-32 rounded-full object-cover mx-auto mb-4\" />\r\n                  ) : (\r\n                    <div className=\"w-32 h-32 bg-gradient-to-br from-[#CD853F] to-[#D2691E] rounded-full flex items-center justify-center text-white font-bold text-3xl mx-auto mb-4\">\r\n                      {formData.first_name ? formData.first_name.charAt(0) : <User />}\r\n                    </div>\r\n                  )}\r\n                  <button onClick={() => fileInputRef.current?.click()} className=\"absolute bottom-2 right-2 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-200\">\r\n                    <Camera className=\"w-4 h-4 text-gray-600\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Form Fields */}\r\n              <div className=\"space-y-6\">\r\n                {/* Personal Information */}\r\n                <div className=\"space-y-4\">\r\n                  <h3 className=\"text-lg font-semibold text-black flex items-center gap-2\">\r\n                    <User className=\"w-5 h-5\" />\r\n                    Personal Information\r\n                  </h3>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Full Name\r\n                    </label>\r\n                    <input\r\n                      name=\"full_name\"\r\n                      type=\"text\"\r\n                      value={formData.full_name}\r\n                      onChange={handleInputChange}\r\n                      disabled={!isEditing}\r\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 disabled:bg-gray-100 disabled:cursor-not-allowed\"\r\n                    />\r\n                  </div>\r\n\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Date of Birth\r\n                    </label>\r\n                    <input\r\n                      name=\"DOB\"\r\n                      type=\"date\"\r\n                      value={formData.DOB}\r\n                      onChange={handleInputChange}\r\n                      disabled={!isEditing}\r\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 disabled:bg-gray-100 disabled:cursor-not-allowed\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Contact Information */}\r\n                <div className=\"space-y-4\">\r\n                  <h3 className=\"text-lg font-semibold text-black flex items-center gap-2\">\r\n                    <Mail className=\"w-5 h-5\" />\r\n                    Contact Information\r\n                  </h3>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Email\r\n                    </label>\r\n                    <input\r\n                      name=\"email\"\r\n                      type=\"email\"\r\n                      value={formData.email}\r\n                      onChange={handleInputChange}\r\n                      disabled={true}\r\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 disabled:bg-gray-100 disabled:cursor-not-allowed\"\r\n                    />\r\n                    <p className=\"text-xs text-gray-500 mt-1\">Email cannot be changed</p>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n\r\n              {/* Action Buttons */}\r\n              <div className=\"flex gap-4 pt-6 border-t border-gray-200\">\r\n                {isEditing ? (\r\n                  <>\r\n                    <button \r\n                      onClick={handleSave}\r\n                      disabled={isSaving}\r\n                      className=\"flex-1 px-6 py-3 bg-gradient-to-r from-[#CD853F] to-[#D2691E] text-white font-semibold rounded-xl hover:from-[#D2691E] hover:to-[#CD853F] transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed\"\r\n                    >\r\n                      {isSaving ? <Loader2 className=\"w-5 h-5 animate-spin\" /> : <Save className=\"w-4 h-4\" />}\r\n                      {isSaving ? 'Saving...' : 'Save Changes'}\r\n                    </button>\r\n                    <button \r\n                      onClick={handleCancel}\r\n                      disabled={isSaving}\r\n                      className=\"px-6 py-3 bg-white/70 text-[#8B4513] font-semibold rounded-xl hover:bg-white transition-all duration-300 transform hover:scale-105 shadow-lg border border-[#FFB88C]/30\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  </>\r\n                ) : (\r\n                  <button \r\n                    onClick={() => setIsEditing(true)}\r\n                    className=\"flex-1 px-6 py-3 bg-gradient-to-r from-[#CD853F] to-[#D2691E] text-white font-semibold rounded-xl hover:from-[#D2691E] hover:to-[#CD853F] transition-all duration-300 transform hover:scale-105 shadow-lg\"\r\n                  >\r\n                    Edit Profile\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </DashboardLayout>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}